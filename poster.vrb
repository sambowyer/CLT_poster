\begin{columns}[t]
\separatorcolumn

\begin{column}{\colwidth}

  \begin{exampleblock}{1. Failures of the Central Limit Theorem}

    % \begin{theorem}{Central Limit Theorem}
    \textbf{Central Limit Theorem:}
    If $X_1, \ldots, X_N$ are IID r.v.s with mean $\mu \in \mathbb{R}$ and finite variance $\sigma^2$, then with sample mean $\hat{\mu} = \frac{1}{N}\sum_{i=1}^N X_i$,
    $$\sqrt{N} (\hat{\mu} - \mu) \xrightarrow{d} \mathcal{N} \left( 0, \sigma^2 \right) \; \text{as } N \rightarrow \infty.$$
    % \end{theorem}

    % horizontal line
    \begin{center}
      \rule{0.8\textwidth}{0.4pt}
    \end{center}

    \textbf{CLT-based confidence interval} on binary data $y_i \in \{0, 1\}$ (incorrect/correct) for $i = 1, \ldots, N$:
    $$
    \text{CI}_{1-\alpha} = \bar{y} \pm z_{\alpha/2} \sqrt{\bar{y}(1-\bar{y})/N},
    $$
    where $z_{\alpha/2}$ is the $(1-\alpha/2)$-th quantile of $\mathcal{N}(0, 1)$.

    \begin{figure}
      \centering
      \includegraphics[width=0.95\textwidth]{fig/PLOTS_FINAL_GREY/pdfs/real_data_langchain_poster_plot.pdf}
      % \caption{Langchain Typewriter tool-use benchmark ($N=20$).}
    \end{figure}

    % As LLM capabilities improve, it's becoming more common to run small-$N$ benchmarks, for which CLT-based error bars can \textbf{collapse to zero-width} or \textbf{extend past [0,1]}.
    As LLM capabilities improve, it's becoming more common to run small-$N$ benchmarks, such as the Langchain Typewriter tool-use benchmark shown above ($N=20$).

  \end{exampleblock}

  \begin{exampleblock}{2. Simulation Setup}

    \begin{enumerate}
      \item \textbf{Synthetic datasets}: $N$ samples $y_i \sim \text{Ber}(\theta)$, $\theta \sim \text{Uniform}[0, 1]$.
      \item \textbf{Construct intervals with various confidence levels} $1-\alpha \in [0.8, 0.995]$.
      % \item Repeat.
      \item \textbf{Repeat the above}, and compare different interval-construction methods via \textbf{coverage} (proportion of intervals that contain true value of $\theta$; should equal $1-\alpha$) and \textbf{interval width}.
    \end{enumerate}

    % Repeat the above and compare different interval-construction methods via \textbf{coverage} (proportion of intervals that contain true value of $\theta$; should equal $1-\alpha$) and \textbf{interval width}.

    % \begin{figure}
    %   \centering
    %   \includegraphics[width=0.75\textwidth]{fig/kitten.jpg}
    % \begin{figure}


  \end{exampleblock}

\end{column}

\separatorcolumn

\begin{column}{\colwidth}

  \begin{block}{3. Alternative Interval Construction}

    \textbf{Bayesian Beta-Bernoulli credible interval} --- uniform prior on $\theta$:
    $$
    \begin{aligned}
      \theta &\sim \text{Beta}(1, 1) = \text{Uniform}[0, 1] \\
      y_i &\sim \text{Bernoulli}(\theta) \; \text{for } i=1,\dots N
    \end{aligned}
    $$
    Use quantiles of closed-form posterior to construct $1-\alpha$ CIs:
    $$
    \theta \mid y_{1:N} \sim \text{Beta}\left(1 + \sum_{i=1}^N y_i, 1 + N - \sum_{i=1}^N y_i\right)
    $$

    % code
    \begin{pbox}[label={ex:bayes_simple}]{Beta-Bernoulli Bayesian Credible Interval}
    \begin{minted}[fontsize=\large,breaklines]{python}
posterior = scipy.stats.beta(1 + sum(y), 1 + N - sum(y))
bayes_ci  = posterior.interval(confidence=0.95)
    \end{minted}
    \end{pbox}

    \vspace{-1.25em}
    % horizontal line
    \begin{center}
      \rule{0.8\textwidth}{0.4pt}
    \end{center}

    \textbf{Wilson-Score confidence interval} --- based on binomial distribution:
    $$
    \text{CI}_{1-\alpha, \text{Wilson}} = \frac{\hat{\theta} + \frac{z_{\alpha/2}^2}{2N}}{1 + \frac{z_{\alpha/2}^2}{N}} \pm \frac{\frac{z_{\alpha/2}}{2N}}{1 + \frac{z_{\alpha/2}^2}{N}}\sqrt{4N\hat{\theta}(1 - \hat{\theta}) + z_{\alpha/2}^2}.
    $$
    % where $z_{\alpha/2}$ is the $(1-\alpha/2)$-th quantile of $\mathcal{N}(0, 1)$.

    % code
    \begin{pbox}[label={ex:wilson_simple}]{Wilson-Score Confidence Interval}
    \begin{minted}[fontsize=\large,breaklines]{python}
result = scipy.stats.binomtest(k=sum(y), n=N)
wilson_ci = result.proportion_ci("wilson", 0.95)
    \end{minted}
    \end{pbox}

    % \vspace{-1.25em}
    % % horizontal line
    % \begin{center}
    %   \rule{0.8\textwidth}{0.4pt}
    % \end{center}

    % \textbf{Clopper-Pearson interval}: 'exact' method (will never under-cover).

    % \textbf{Bootstrap interval}: quantile-based interval on $\hat{\theta} = \bar{y}$ from resampled data.

    % % horizontal line
    % \begin{center}
    %   \rule{0.8\textwidth}{0.4pt}
    % \end{center}

  \end{block}

  \vspace{-1em}

  \begin{block}{4. Results}

    \begin{figure}
      \centering
      \includegraphics[width=\textwidth]{fig/pdfs/exp4-1.pdf}
      % \caption{}
    \end{figure}

  \end{block}

\end{column}

\separatorcolumn

\begin{column}{\colwidth}

  \begin{exampleblock}{5. Other Settings}

    \begin{itemize}
      \item \textbf{Clustered Questions} --- instead of $N$ IID questions, we have $T$ tasks, each with $N_t$ IID questions. Bayesian model:
      $$
        \begin{aligned}
        d &\sim \text{Gamma}(1, 1), \quad
        \theta \sim \text{Beta}(1, 1), \quad \\
        \theta_t &\sim \text{Beta}(d \theta, d (1-\theta)), \quad
        y_{i,t} \sim \text{Bernoulli}(\theta_t)
        \end{aligned}
      $$
    \begin{figure}
      \centering
      \includegraphics[width=0.95\textwidth]{fig/PLOTS_FINAL_GREY/pdfs/exp4-2_alpha_only.pdf}
      % \vspace{-1em}
      % \caption{\textbf{Clustered questions setting}: with $N_t = 5$ questions per task.}
    \end{figure}
      \item \textbf{Independent Comparisons} --- Compare $\theta_A$ and $\theta_B$ for two different models, with access \textit{only} to $N_A, N_B, \hat{\theta}_A,$ and $\hat{\theta}_B$.
      \item \textbf{Paired Comparisons} --- Compare $\theta_A$ and $\theta_B$ for two different models, each with the same $N$ IID questions and access to question-level successes $\{y_{A;i}\}_{i=1}^N$ and $\{y_{B;i}\}_{i=1}^N$.
      \item \textbf{Metrics that aren't simple averages of binary results} --- e.g. F1 score (harmonic mean of precision and recall).
    \end{itemize}

    We construct Bayesian credible intervals that outperform CLT-based intervals in all settings; implemented in \textbf{\texttt{bayes\_evals}}.

  \end{exampleblock}

  \begin{alertblock}{6. Recommendations}



    % two-column of figures
    \begin{columns}
      \begin{column}{0.7\textwidth}
        \begin{itemize}
          \item \textbf{IID setting}: use Bayesian Beta-Bernoulli credible intervals or Wilson-score confidence intervals via \textbf{\texttt{scipy}} or equivalent.

          \item \textbf{Other settings}: use Bayesian credible intervals as implemented in our simple package \textbf{\texttt{bayes\_evals}}.
        \end{itemize}
      \end{column}
      \begin{column}{0.3\textwidth}
        \vspace{1em}
        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{fig/arxiv_qr.png}
          % \caption{}
        \end{figure}

        \vspace{0.5em}

        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{fig/github_qr.png}
          % \caption{}
        \end{figure}
      \end{column}
    \end{columns}

  \end{alertblock}

  % \begin{block}{References}

  %   \nocite{*}
  %   \footnotesize{\bibliographystyle{plain}\bibliography{poster}}

  % \end{block}

\end{column}

\separatorcolumn
\end{columns}
